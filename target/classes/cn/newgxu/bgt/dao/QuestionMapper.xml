<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.newgxu.bgt.dao.QuestionMapper">

	<insert id="addQuestion" parameterType="cn.newgxu.bgt.model.Question">
		insert into
		question(qId,title,context,addTime,solution,attention,uId)
		values(#{qId},#{title},#{context},#{addTime},#{solution},#{attention},#{uId})
	</insert>

	<update id="setQuestionGood">
		update question set solution = "good" where qId =
		#{qId}
	</update>

	<select id="getAttenTionQuestion" resultType="cn.newgxu.bgt.model.entity.QuestionModel">
		select
		qId,question.uId,title,context,addTime,solution,attention ,nick
		from
		question,user
		where qId in
		<foreach collection="list" index="qId" item="qId" open="("
			separator="," close=")">#{qId}</foreach>
		and question.uId = user.uId order by attention desc limit #{n}
	</select>
	
	<select id="getQIdsDesc" resultType="java.lang.String">
	  select qId from question  order by qId desc limit #{m}
	</select>

</mapper>